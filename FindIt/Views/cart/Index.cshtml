@using FindIt.Models.Entities
@model ICollection<CartProduct>
@{
    ViewBag.Title = "Index";
}

<h2>Panier</h2>
    <td class="col-xs-12 col-sm-12 col-md-12">
@if (Model.Count > 0) {
    <table>
        <thead style="position: sticky;">
            <tr>
                <th>Photo</th>
                <th>Produit</th>
                <th>Prix</th>
                <th>Qte</th>
            </tr>
        </thead>
        @foreach (CartProduct cp in Model) {
            <tr>
                @if (cp.Product != null) {
                    if (cp.Product.Photo != null) {
                    <td class="col-xs-2 col-sm-2 col-md-2"><img src="/Content/images/@(cp.Product.Photo)" alt="Photo du produit" /></td>
                    }
                    else {
                        <td class="col-xs-2 col-sm-2 col-md-2">Aucune Image</td>
                    }
                    <td class="col-xs-6 col-sm-6 col-md-6">@(cp.Product.Name)</td>
                    <td class="col-xs-2 col-sm-2 col-md-2">@(cp.Product.Price) $</td>
                    <td class="col-xs-2 col-sm-2 col-md-2">@(cp.Qty)</td>
                }
                else {
                    <td colspan="4">Une erreur est survenue.</td>
                }
            </tr>
        }
    </table>
}
else {
        <div class="alert alert-info">
            Votre panier ne contient aucun produit.
        </div>
}

